# قائمة التحقق من النشر والوظائف

استخدم قائمة التحقق هذه للتأكد من أن تطبيق مقارنة الأسعار يعمل بشكل صحيح بعد النشر على منصات الاستضافة المجانية.

## التحقق من قاعدة البيانات (Supabase)

- [ ] تم إنشاء مشروع Supabase بنجاح
- [ ] تم تنفيذ ملف `supabase_schema.sql` بدون أخطاء
- [ ] تم إنشاء جميع الجداول المطلوبة:
  - [ ] retailers
  - [ ] stores
  - [ ] categories
  - [ ] products
  - [ ] product_prices
  - [ ] users
  - [ ] watchlists
  - [ ] watchlist_items
  - [ ] notifications
- [ ] تم إنشاء البيانات الأولية للمتاجر والفئات
- [ ] تم تمكين سياسات أمان الصفوف (RLS)

## التحقق من الخادم الخلفي (Render)

- [ ] تم نشر الخادم الخلفي بنجاح على Render
- [ ] تم تكوين متغيرات البيئة بشكل صحيح:
  - [ ] SUPABASE_URL
  - [ ] SUPABASE_KEY
  - [ ] JWT_SECRET
- [ ] نقطة نهاية فحص الصحة تعمل: `https://your-app.onrender.com/api/health`
- [ ] اختبار نقاط النهاية الرئيسية:
  - [ ] GET /api/products
  - [ ] GET /api/categories
  - [ ] GET /api/retailers
  - [ ] GET /api/deals
- [ ] اختبار تسجيل المستخدم وتسجيل الدخول:
  - [ ] POST /api/auth/register
  - [ ] POST /api/auth/login

## التحقق من الواجهة الأمامية (Netlify)

- [ ] تم نشر الواجهة الأمامية بنجاح على Netlify
- [ ] تم تكوين ملف `netlify.toml` بشكل صحيح
- [ ] تم تحديث عنوان API في ملفات JavaScript
- [ ] الصفحة الرئيسية تعمل وتعرض بشكل صحيح
- [ ] التنقل بين الصفحات يعمل بشكل صحيح
- [ ] نموذج البحث يعمل ويعرض النتائج
- [ ] صفحات المنتجات تعرض معلومات المنتج بشكل صحيح
- [ ] تسجيل المستخدم وتسجيل الدخول يعملان بشكل صحيح
- [ ] قائمة المراقبة والإشعارات تعمل للمستخدمين المسجلين

## التحقق من GitHub Actions

- [ ] تم إعداد سير عمل GitHub Actions بنجاح
- [ ] تم تكوين أسرار GitHub بشكل صحيح:
  - [ ] SUPABASE_URL
  - [ ] SUPABASE_KEY
- [ ] تشغيل سير العمل يدويًا ينجح في تحديث البيانات
- [ ] التحقق من أن البيانات الجديدة تظهر في قاعدة البيانات

## اختبار الوظائف الأساسية

- [ ] البحث عن المنتجات:
  - [ ] البحث بالاسم
  - [ ] التصفية حسب الفئة
  - [ ] التصفية حسب المتجر
  - [ ] التصفية حسب الخصومات فقط
- [ ] مقارنة الأسعار:
  - [ ] عرض أسعار نفس المنتج من متاجر مختلفة
  - [ ] عرض نسبة الخصم بشكل صحيح
  - [ ] عرض معلومات المتجر بشكل صحيح
- [ ] إدارة قائمة المراقبة:
  - [ ] إضافة منتج إلى قائمة المراقبة
  - [ ] تعيين سعر مستهدف
  - [ ] إزالة منتج من قائمة المراقبة
- [ ] نظام الإشعارات:
  - [ ] إنشاء إشعار عند انخفاض السعر
  - [ ] عرض الإشعارات غير المقروءة
  - [ ] تمييز الإشعارات كمقروءة

## اختبار الأداء والاستجابة

- [ ] الواجهة الأمامية تعمل بشكل جيد على أجهزة الكمبيوتر
- [ ] الواجهة الأمامية تعمل بشكل جيد على الأجهزة المحمولة
- [ ] وقت استجابة API مقبول (أقل من 1 ثانية)
- [ ] تحميل الصفحة سريع (أقل من 3 ثواني)

## اختبار الأمان

- [ ] لا يمكن الوصول إلى بيانات المستخدم بدون مصادقة
- [ ] لا يمكن للمستخدمين الوصول إلى بيانات مستخدمين آخرين
- [ ] رموز JWT تنتهي صلاحيتها بشكل صحيح
- [ ] كلمات المرور مخزنة بشكل آمن (مشفرة)

## إجراءات التصحيح الشائعة

### مشاكل قاعدة البيانات

- إذا فشل تنفيذ SQL، تحقق من تنسيق الاستعلام وتأكد من عدم وجود أخطاء نحوية
- إذا كانت البيانات لا تظهر، تحقق من سياسات RLS وتأكد من أنها تسمح بالوصول المناسب

### مشاكل الخادم الخلفي

- إذا فشل النشر على Render، تحقق من ملف `requirements.txt` وتأكد من وجود جميع التبعيات
- إذا كانت نقاط النهاية لا تعمل، تحقق من سجلات Render وتأكد من صحة متغيرات البيئة

### مشاكل الواجهة الأمامية

- إذا كانت الواجهة الأمامية لا تتصل بالخادم الخلفي، تحقق من عنوان API في ملفات JavaScript
- إذا كانت الصفحات لا تعرض بشكل صحيح، تحقق من وحدة تحكم المتصفح للأخطاء

### مشاكل GitHub Actions

- إذا فشل سير العمل، تحقق من سجلات الأحداث في GitHub
- تأكد من أن أسرار GitHub مكونة بشكل صحيح
